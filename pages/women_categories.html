<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ñ–µ–Ω—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è - ExoStore</title>
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header>
        <a href="../index.html">
            <img src="../assets/images/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo">
        </a>
        <a href="cart.html" class="cart-icon">
            <img src="../assets/images/cart-icon.png" alt="–ö–æ—Ä–∑–∏–Ω–∞">
        </a>
    </header>
    
    <h1 class="store-title">üëó –ñ–µ–Ω—Å–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h1>

    <div class="category-list">
        <div class="category-row">
            <a href="women/women_shoes.html" class="category-tab">
                <div class="category-box">
                    <img src="../assets/images/shoewomen1.jpg" alt="–ñ–µ–Ω—Å–∫–∞—è –æ–±—É–≤—å">
                </div>
            </a>
            <a href="women/women_clothes.html" class="category-tab">
                <div class="category-box">
                    <img src="../assets/images/clotheswoman1.png" alt="–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞">
                </div>
            </a>
        </div>
        <div class="category-row">
            <a href="women/women_accessories.html" class="category-tab">
                <div class="category-box">
                    <img src="../assets/images/womanaccessories1.png" alt="–ñ–µ–Ω—Å–∫–∏–µ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã">
                </div>
            </a>
        </div>
    </div>

    <a href="../index.html" class="back-btn">‚¨Ö –ù–∞–∑–∞–¥</a>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const introVideoContainer = document.getElementById("intro-video-container");
            const introVideo = document.getElementById("intro-video");
            const content = document.getElementById("content");

            function showContent() {
                if (content) {
                    introVideoContainer.style.display = "none";
                    content.style.display = "block";
                    console.log("–ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–∫–∞–∑–∞–Ω.");
                } else {
                    console.error("–û—à–∏–±–∫–∞: —ç–ª–µ–º–µ–Ω—Ç #content –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞...");
                    location.reload(); // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞, –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
                }
            }

            if (sessionStorage.getItem("videoPlayed")) {
                console.log("–í–∏–¥–µ–æ —É–∂–µ –±—ã–ª–æ –ø—Ä–æ–∏–≥—Ä–∞–Ω–æ, —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç.");
                showContent();
            } else {
                if (introVideo) {
                    console.log("–ó–∞–ø—É—Å–∫ –≤–∏–¥–µ–æ-–∑–∞—Å—Ç–∞–≤–∫–∏...");
                    content.style.display = "none";
                    introVideoContainer.style.display = "flex";

                    introVideo.addEventListener("ended", function () {
                        console.log("–í–∏–¥–µ–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç.");
                        showContent();
                        sessionStorage.setItem("videoPlayed", "true");
                    });

                    // –†–µ–∑–µ—Ä–≤–Ω—ã–π —Ç–∞–π–º–µ—Ä –Ω–∞ —Å–ª—É—á–∞–π –∑–∞–≤–∏—Å–∞–Ω–∏—è –≤–∏–¥–µ–æ
                    setTimeout(function () {
                        console.warn("–¢–∞–π–º–µ—Ä —Å—Ä–∞–±–æ—Ç–∞–ª ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ.");
                        showContent();
                        sessionStorage.setItem("videoPlayed", "true");
                    }, 10000);
                } else {
                    console.warn("–í–∏–¥–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ä–∞–∑—É.");
                    showContent();
                }
            }
        });

        function addToCart(productName, price) {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            cart.push({ name: productName, price: price });
            localStorage.setItem("cart", JSON.stringify(cart));
            updateCartCount();
        }

        function updateCartCount() {
            let cart = JSON.parse(localStorage.getItem("cart")) || [];
            document.querySelector(".cart-icon")?.textContent = `üõí (${cart.length})`;
        }
        updateCartCount();
    </script>
    
    <script>
        if (window.Telegram && Telegram.WebApp) {
            Telegram.WebApp.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
            Telegram.WebApp.MainButton.setText("üõç –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑").show();
            Telegram.WebApp.MainButton.onClick(function() {
                alert("–ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω!");
            });
        }

        function selectSize(button) {
            let buttons = button.parentElement.querySelectorAll("button");
            buttons.forEach(btn => btn.classList.remove("selected"));
            button.classList.add("selected");
        }
    </script>
</body>
</html>
